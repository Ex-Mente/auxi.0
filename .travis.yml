language: cpp
compiler: gcc
sudo: required
dist: trusty
before_script:
  - sudo apt-get update -qq
  - sudo apt-get install -y libboost1.54-all-dev
  - wget https://github.com/ned14/boost-trunk/archive/release/Boost_1_54_0.tar.gz
  - tar zxf Boost_1_54_0.tar.gz
  - mv boost-trunk-release-Boost_1_54_0 $HOME/boost-trunk
  - BOOST="$HOME/boost-trunk/"
  - BOOST_ROOT="$HOME/boost-trunk"
  - export BOOST_ROOT
  - export BOOST
  - cd $BOOST/tools/build/v2
  - ./bootstrap.sh
  - sudo ./b2 install
script:
  - cd $TRAVIS_BUILD_DIR/src
  - cd auxi/core
  - sudo b2
  - cd ../tools/chemistry/stoichiometry
  - sudo b2
  - cd ../thermochemistry
  - sudo b2
  - cd ../../../../auxi4py/core
  - sudo b2 -d2
  - cd ../tools/chemistry/stoichiometry
  - b2
  - cd ../thermochemistry
  - sudo b2
  - cd ../../../../../setup/auxi4py
  - sh build_distribution.sh
  - cd dist
deploy:
  provider: releases
  api_key: "d5524d3be5d4183aa1dfbab0fd4563fba7fe4998"
  file: "auxi-0.0.0-ubuntu.tar.gz"
  skip_cleanup: true
  on:
    tags: true
